<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>MediCAL | FAQ</title>
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" 
        crossorigin="anonymous"
    /> 

    <!--Iconos que uso de bootstrap-->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <!--Tipografia Fuente:Inter sacada de google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" 
    rel="stylesheet"
    />

    <!--referencio el archivo de estilos-->
    <link rel="stylesheet" href="css/style.css">

    <!--Iconito de la pestaña-->
    <link rel="icon" href="img/Icono_MediCAL_Web.png">
      <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-auth.js"></script>
    <script src="js/firebaseLoginAmbosAdmin.js"></script>
    <style>

/*acordeon margenes*/
.accordion-container {
        margin-top: 50px;
        margin-left: 60px;
        margin-right: 60px;
        margin-bottom: 50px; /* Márgenes inferiores del acordeón */
      }
      /* Estilos personalizados para acordeones */
.accordion-item:not(.collapsed) .accordion-header button {
  background-color: var(--bg-second-alpha-color); /* Color de fondo del título cuando el acordeón está abierto */
  color: var(--fifth-color); /* Color del texto del título cuando el acordeón está abierto */
}

.accordion-item:not(.collapsed) .accordion-header button:focus,
.accordion-item:not(.collapsed) .accordion-header button:hover {
  background-color: var(--second-color);
  color:var(--fourth-color);
}


.accordion-item .accordion-button::after {
  color: var(--fifth-color); /* Color del icono (flecha) cuando el acordeón está abierto */
}

.accordion-item .accordion-button.collapsed::after {
  transform: rotate(0deg);

   /* Rotación de la flecha cuando el acordeón está colapsado (cerrado) */
}
.accordion-item {
  margin-bottom: 10px;
}

.accordion-header {
  margin-bottom: 5px;
}

.accordion-header button {
  font-family: "Inter", sans-serif;
  font-weight: 400;
  font-size: 18px;
  color:var(--fifth-color) ;

}

.accordion-body {
  margin-bottom: 10px;
  font-family: "Inter", sans-serif;
  font-weight: 400;
  font-size: 18px;
  color: var(--seventh-color);
}
      /*boton contactar con soporte*/
      .contact-support-container {
        text-align: left;
        margin-left: 60px;
        margin-bottom: 20px;
        font-weight: 400;

      }

      .contact-support-container .contact-support-btn {
        border: 2px solid var(--fourth-color);
        background-color: transparent;
        color: var(--first-color);
        font-size: 18px;
        font-weight: 400;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
      }

      .contact-support-container .contact-support-btn:focus {
        outline: none;
        border-color: var(--first-color);
      }

              /* Estilos CSS aquí */
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 9998;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .popup-content {
            background-color: var(--fourth-color);
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            max-width: 90%;
            width: fit-content;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            display: none;
        }

        .popup-content h3 {
            margin-top: 0;
            color: var(--third-color);
            font-size: 22px;
            font-weight: 600px;
            font-family: 'Inter', sans-serif;
            margin-bottom: 10px;
            text-align: left;
        }
        .popup-content h4 {
            margin-top: 0;
            color: var(--fifth-color);
            font-size: 20px;
            font-weight: 400px;
            font-family: 'Inter', sans-serif;
            margin-bottom: 10px;
            text-align: left;
        }

        .popup-content .popup-buttons {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-top: 20px;
        }

        .popup-content .popup-buttons button {
            border: 2px solid var(--fourth-color);
            background-color: transparent;
            color: var(--first-color);
            font-size: 18px;
            font-weight: 400px;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }

        .popup-content .popup-buttons button:focus {
            outline: none;
            border-color: var(--first-color); /* Cambia el color del borde al seleccionar */
        }

        .popup-content .popup-buttons .cancel-button {
            margin-right: auto;
            order: 1;
        }

        .popup-content .popup-buttons .accept-button {
            order: 2;
        }

    </style>

    </head>
  <body>
 <!--Barra de arriba, ícono de configuración y el menú desplegable -->
<nav class="navbar sticky-top navbar-custom" style="background-color: var(--sixth-color); font-family: 'Inter', sans-serif;">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    <a class="navbar-brand" id="tituloPerfil" href="#" style="font-weight: 600; font-size: 12pt;">
      MediCAL | 
    </a>
    <div class="dropdown">
      <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-gear-fill icon-lg"></i>
      </button>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
        <!--opciones del dropdown-->
        <li>
          <a class="dropdown-item" href="#">
            <i class="bi bi-pencil-square"></i>
            Editar perfil
          </a>
        </li>
        <li>
          <a class="dropdown-item" href="#" onclick="window.location.href='n4_ayuda_y_soporte.html'">
            <i class="bi bi-question-circle"></i>
            Ayuda y soporte
          </a>
        </li>
        <li class="dropdown-divider"></li>
        <li>
          <a class="dropdown-item" href="#" id="cerrar_sesion" onclick="openDialog('popup-dialog-cerrar-sesion')">
            <i class="bi bi-box-arrow-left"></i>
            Cerrar sesión
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

    <!--Pantalla-->
    <main class="pt-5">
    
    <!--flecha atras-->
    <a href="javascript:history.back()" class="btn-back">
        <i class="bi bi-arrow-left"></i>
        </a>
    <!--titulo-->
    <div style="margin-top: -34px; margin-left: 80px;">
      <h1 style="font-family: 'Inter', sans-serif; font-weight: 600; font-size: 28px; color: var(--second-color); text-align: left;">Preguntas y respuestas frecuentes</h1>
    </div>
<!--acordeon faq-->
<div class="accordion-container">
  <div class="accordion" id="accordionPanelsStayOpenExample">
    <!-- Acordeón 1 -->
    
</div>
</div>
<div class="contact-support-container">
  <button class="btn-transparent contact-support-btn" onclick="window.location.href='n5_contacto_con_soporte.html'">CONTACTA CON SOPORTE</button>
</div>
  
  


    </main>

<div id="popup-overlay" class="popup-overlay"></div>

    <div id="popup-dialog-cerrar-sesion" class="popup-content">
        <h3>¿Está seguro?</h3>
        <h4>¿Desea cerrar sesión de esta cuenta?</h4>

        <div class="popup-buttons">
            <button class="cancel-button" onclick="cancelDialog('popup-dialog-cerrar-sesion')">CANCELAR</button>
            <button class="accept-button" onclick="closeDialog('popup-dialog-cerrar-sesion'); signOut();">ACEPTAR</button>
        </div>
    </div>
    <script 
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" 
        crossorigin="anonymous">
    </script>


    <script src="js/main.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/scriptsDialogPopup.js"></script>

    <script>

   var usuario = localStorage.getItem('usuario');

    // Convierte la cadena JSON nuevamente en un objeto JavaScript utilizando JSON.parse
    var usuarioJson = JSON.parse(usuario);
    var titulo = document.getElementById("tituloPerfil");
    titulo.textContent = titulo.textContent + " " + usuarioJson.perfil.nombrePerfil

      fetch('http://localhost:8080/FAQ/get-all')
  .then(response => response.json())
  .then(data => {
    // Obtén el contenedor del acordeón
    const accordionContainer = document.querySelector('.accordion');

    // Itera a través de las FAQs en "data"
    data.forEach((faq, index) => {
      // Crea elementos HTML para el acordeón
      const accordionItem = document.createElement('div');
      accordionItem.classList.add('accordion-item');

      const accordionHeader = document.createElement('h2');
      accordionHeader.classList.add('accordion-header');
      accordionHeader.id = `heading${index + 1}`;

      const accordionButton = document.createElement('button');
      accordionButton.classList.add('accordion-button');
      accordionButton.classList.add('collapsed');
      accordionButton.setAttribute('type', 'button');
      accordionButton.setAttribute('data-bs-toggle', 'collapse');
      accordionButton.setAttribute('data-bs-target', `#collapse${index + 1}`);
      accordionButton.setAttribute('aria-expanded', 'false');
      accordionButton.setAttribute('aria-controls', `collapse${index + 1}`);
      accordionButton.textContent = faq.preguntatFAQ;

      const accordionCollapse = document.createElement('div');
      accordionCollapse.id = `collapse${index + 1}`;
      accordionCollapse.classList.add('accordion-collapse', 'collapse');
      accordionCollapse.setAttribute('aria-labelledby', `heading${index + 1}`);

      const accordionBody = document.createElement('div');
      accordionBody.classList.add('accordion-body');
      accordionBody.textContent = faq.respuestaFAQ;

      // Agrega los elementos al DOM
      accordionHeader.appendChild(accordionButton);
      accordionCollapse.appendChild(accordionBody);
      accordionItem.appendChild(accordionHeader);
      accordionItem.appendChild(accordionCollapse);
      accordionContainer.appendChild(accordionItem);
    });
  })
  .catch(error => {
    console.error('Error al obtener datos de FAQs:', error);
  });
    </script>


  </body>
</html>